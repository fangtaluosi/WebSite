+++
title = "Zolaä½¿ç”¨æ•™ç¨‹(1) åˆè¯†Zola"
date = 2022-01-22
update = 2022-01-22

[taxonomies]
tags = ["zola","å‰ç«¯"]

[extra]
author = "èŠ³å¡”æ´›æ–¯"
+++

## Zolaé€Ÿè§ˆ

[Zola](https://www.getzola.org/)æ˜¯ä¸€ä¸ªé™æ€ç«™ç‚¹ç”Ÿæˆå™¨ï¼Œé‡‡ç”¨Rustç¼–å†™ï¼Œå¹¶ä½¿ç”¨Teraæ¨¡æ¿å¼•æ“ï¼Œé€šè¿‡åŠ¨æ€æ¨¡æ¿å°†å†…å®¹è½¬åŒ–ä¸ºé™æ€HTMLé¡µé¢ã€‚Zolaå¯ä»¥å¸®åŠ©æ‚¨æ›´å¿«çš„æ„é€ ç«™ç‚¹ï¼Œå¹¶å®Œæˆå¤§é‡é‡å¤æ€§å·¥ä½œï¼Œå³ä½¿ä»¥åä¸æƒ³åœ¨ä½¿ç”¨zolaï¼Œä¹Ÿå¯ä»¥å°†ç«™ç‚¹ç¼–è¯‘ä¸ºæ™®é€šçš„HTMLæ–‡ä»¶å¯¼å‡º

## å¼€å§‹

åœ¨å®˜ç½‘ä¸‹è½½Zolaçš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå¹¶æŠŠå®ƒæ”¾å…¥ç¯å¢ƒå˜é‡ï¼Œæ¥ä¸‹æ¥åœ¨å‘½ä»¤è¡Œç»ˆç«¯è¿è¡Œ

```txt
zola init [ç«™ç‚¹åç§°]
```

Zolaå°†ä¼šå‘æ‚¨æå‡ºå‡ ä¸ªé—®é¢˜

```txt
> What is the URL of your site? (https://example.com): #ç«™ç‚¹çš„urlæ˜¯ä»€ä¹ˆ
> Do you want to enable Sass compilation? [Y/n]: #æ˜¯å¦å¯ç”¨sassç¼–è¯‘
> Do you want to enable syntax highlighting? [y/N]: #æ˜¯å¦å¯ç”¨è¯­æ³•é«˜äº®
> Do you want to build a search index of the content? [y/N]: #æ˜¯å¦æ„é€ ç´¢å¼•
```

æ¥ä¸‹æ¥ï¼Œzolaå°†ä¼šä¸ºæˆ‘ä»¬åˆå§‹åŒ–ä»¥ä¸‹æ–‡ä»¶

```txt
â”œâ”€â”€ config.toml
â”œâ”€â”€ content
â”œâ”€â”€ sass
â”œâ”€â”€ static
â”œâ”€â”€ templates
â””â”€â”€ themes
```

ä½ å¯ä»¥é€šè¿‡`zola build`å‘½ä»¤æ¥ç¼–è¯‘ç”Ÿæˆç«™ç‚¹ï¼Œä¹Ÿå¯ä»¥é€šè¿‡`zola serve`å‘½ä»¤å¼€å¯ä¸€ä¸ªæœ¬åœ°æœåŠ¡å™¨ï¼Œå®æ—¶ç›‘å¬æ–‡ä»¶æ›´æ–°å¹¶å³æ—¶ç¼–è¯‘ç«™ç‚¹ï¼Œè¿™æ—¶æ‰“å¼€æœåŠ¡å™¨çš„é“¾æ¥åº”è¯¥ä¼šçœ‹åˆ°zolaçš„æ¬¢è¿é¡µé¢

## ä¸»é¡µ

templates(æ¨¡æ¿)æ˜¯æˆ‘ä»¬å­˜æ”¾é¡µé¢æ¨¡æ¿çš„åœ°æ–¹

é¦–å…ˆåœ¨æ¨¡æ¿æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸€ä¸ªbase.htmlæ–‡ä»¶ï¼Œå†™å…¥ä»¥ä¸‹å†…å®¹

```html
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>MyBlog</title>
</head>

<body>
    {% block content %} {% endblock %}
</body>

</html>
```

ç›®å‰zolaå¯¹ä¸­æ–‡çš„æ”¯æŒä¸æ˜¯å¾ˆå¥½ï¼Œæ‰€ä»¥é»˜è®¤è¯­è¨€ç”¨enå°±å¥½

å…¶ä¸­`{% block content %} {% endblock %}`ä»£è¡¨è¿™é‡Œå°†ä¼šè¢«ä¸€ä¸ªåä¸ºcontentçš„å—å–ä»£ï¼Œå¦‚æœä¸å¸Œæœ›ç¼–è¯‘ç”Ÿæˆçš„htmlæ–‡ä»¶åœ¨è¿™é‡Œæœ‰æ¢è¡Œï¼Œå¯ä»¥æ›¿æ¢ä¸º`{%- block content %} {% endblock -%}`

æ¥ä¸‹æ¥ï¼Œåœ¨æ¨¡æ¿ç›®å½•åˆ›å»ºä¸€ä¸ªindex.htmlæ–‡ä»¶ï¼Œå¹¶å†™å…¥ä»¥ä¸‹å†…å®¹

```html
{% extends "base.html" %}

{% block content %}
<h1 class="title">
  This is my blog made with Zola.
</h1>
{% endblock content %}
```

å…¶ä¸­ï¼Œ`{% extends "base.html" %}`è¡¨ç¤ºè¯¥é¡µé¢ç»§æ‰¿è‡ªbase.htmlã€‚`{% block content %}`ä¸`{% endblock content %}`ä¸­é—´å¤¹ç€çš„å°±æ˜¯ä¸€ä¸ªåä¸ºcontentçš„å—ï¼Œindexæ–‡ä»¶å°†ä»¥baseæ–‡ä»¶ä¸ºæ¨¡æ¿å¹¶å°†contentå—æ›¿æ¢è¿›å»ç”Ÿæˆhtmlæ–‡ä»¶

## content
content(å†…å®¹)æ–‡ä»¶å¤¹æ˜¯åˆ†ç±»å­˜æ”¾æˆ‘ä»¬çš„åšå®¢å†…å®¹çš„æ–‡ä»¶å¤¹

é¦–å…ˆåœ¨å†…å®¹æ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ªblogæ–‡ä»¶å¤¹ï¼Œåœ¨contentä¸­ï¼Œæ¯ä¸€ä¸ªå­æ–‡ä»¶å¤¹è¢«ç§°ä¸ºä¸€ä¸ªsectionï¼Œåœ¨blogæ–‡ä»¶å¤¹ä¸‹æ–°å»º_index.mdæ–‡ä»¶ï¼Œè¿™å°†ä¼šè¢«ç¼–è¯‘æˆåä¸ºblogçš„å¯¼èˆªé¡µé¢ï¼Œåœ¨å…¶ä¸­ä»¥TOMLæ ¼å¼å†™ä¸‹å¦‚ä¸‹å˜é‡

```md
+++
title = "List of blog posts"
sort_by = "date"
template = "blog/section.html"
page_template = "blog/page.html"
+++
```

å…¶ä¸­çš„å˜é‡ä¸æ˜¯å¿…é¡»çš„ï¼Œä½†ä¸¤æ’+æ˜¯å¿…é¡»çš„

- titleå˜é‡ä¸è¨€è€Œå–»ï¼Œä¸è¿‡ä½ å¯ä»¥åœ¨sectionæ¨¡æ¿ä¸­è°ƒç”¨section.titleè¿™ä¸ªå˜é‡
- sort_by å˜é‡æŒ‡æ˜äº†æ’åˆ—åšå®¢çš„æ ‡å‡†ï¼Œè¿™é‡Œæ˜¯æŒ‰ç…§æ—¥æœŸæ’åº
- templateå˜é‡æŒ‡æ˜äº†è¿™ä¸ªsectionæ‰€é‡‡ç”¨çš„æ¨¡æ¿
- page_templateæŒ‡æ˜äº†è¿™ä¸ªsectionä¸‹çš„pageæ‰€ä½¿ç”¨çš„æ¨¡æ¿

å®Œæ•´çš„sectionå˜é‡å¯åœ¨å®˜æ–¹æ–‡æ¡£æˆ–è€…ä¹‹åçš„æ–‡ç« ä¸­æŸ¥è¯¢

## template

ç°åœ¨è®©æˆ‘ä»¬ä¸ºblog sectionåˆ›å»ºæ¨¡æ¿

åœ¨æ¨¡æ¿æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºblog/section.htmlï¼Œå¹¶å†™å…¥ä»¥ä¸‹å†…å®¹

```html
{% extends "base.html" %}

{% block content %}
<h1 class="title">
    {{ section.title }}
</h1>
<ul>
    {% for page in section.pages %}
    <li><a href="{{ page.permalink | safe }}">{{ page.title }}</a></li>
    {% endfor %}
</ul>
{% endblock content %}
```

`{{ section.title }}`åœ¨ç¼–è¯‘æ—¶ä¼šè¢«sectionçš„titleå˜é‡æ‰€å–ä»£ï¼Œ`{% for page in section.pages %}`æ˜¯zolaçš„ä¸€ç§çŸ­ä»£ç ï¼Œç±»ä¼¼rustä¸­çš„è¿­ä»£å™¨ï¼Œè¿­ä»£sectionä¸­æ‰€æœ‰çš„page(åœ¨sectionä¸‹é™¤äº†_index.mdä¹‹å¤–ï¼Œå…¶ä»–çš„markdownæ–‡ä»¶è¢«ç§°ä¸ºpage)ã€‚

`{{ page.permalink | safe }}`å‰åŠéƒ¨åˆ†æ˜¯pageä¸‹çš„å˜é‡ï¼Œä»£è¡¨è¿™ä¸ªpageçš„urlï¼Œ`|`åé¢æ˜¯ä¸€ä¸ªè¿‡æ»¤å™¨ï¼Œä½¿ç”¨å®ƒçš„åŸå› æ˜¯å›ºå®šé“¾æ¥ä¸éœ€è¦è¿›è¡Œè½¬ä¹‰(è½¬ä¹‰ä¼šå¯¼è‡´`/`å˜æˆ`&#x2F`)

è¿™æ—¶è¿›å…¥æµè§ˆå™¨ä¸­çš„`[åœ°å€]/blog`å°†ä¼šçœ‹åˆ°blogé¡µé¢ï¼Œè¿™ä¸ªé¡µé¢æ˜¯ç©ºçš„å› ä¸ºæˆ‘ä»¬è¿˜æ²¡æœ‰ä»»ä½•ä¸€ç¯‡åšå®¢

## æ’°å†™ç¬¬ä¸€ç¯‡åšå®¢

åœ¨blogæ–‡ä»¶å¤¹ä¸‹æ–°å»ºfirst.mdï¼Œå¹¶å†™å…¥

```md
+++
title = "æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢"
date = 2022-01-22
+++

Hello Worldï¼
```

å…¶ä¸­çš„å˜é‡å¯ä»¥åœ¨blog/page.htmlä¸‹è¢«ä½¿ç”¨ï¼Œå˜é‡ä¹‹ä¸‹æ˜¯åšå®¢å†…å®¹ï¼Œå¯ä½œä¸ºpage.contentå˜é‡è¢«ä½¿ç”¨

ç°åœ¨è¿›å…¥blog/page.htmlï¼Œå¹¶å†™å…¥å¦‚ä¸‹å†…å®¹

```html
{% extends "base.html" %}

{% block content %}
<h1 class="title">
    {{ page.title }}
</h1>
<p class="subtitle"><strong>{{ page.date }}</strong></p>
{{ page.content | safe }}
{% endblock content %}
```

æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬åˆ›å»ºç¬¬äºŒç¯‡åšå®¢ï¼Œä¹‹åå†æ¬¡è¿›å…¥blogé¡µé¢ï¼Œä½ å°†çœ‹åˆ°è¿™ä¸¤æ¡åšå®¢æŒ‰ç…§pageä¸­çš„dateå˜é‡æ’åˆ—äº†

æœ€åï¼Œä½ å¯ä»¥åœ¨ä¸»é¡µæ”¾å…¥ä¸€ä¸ªblogé¡µé¢çš„è¶…é“¾æ¥ã€‚æˆ‘ä»¬çš„åˆè¯†zolaä¹‹æ—…å°±åˆ°æ­¤ä¸ºæ­¢äº†

## é™„
- zolaä¸€å…±æœ‰å››æ¡å­å‘½ä»¤
  - init åˆå§‹åŒ–ç«™ç‚¹ï¼Œåé¢å¯ä¸åŠ åç§°å‚æ•°
  - build
  - serve
  - check ç”¨äºæ£€æŸ¥æ¨¡æ¿æ–‡ä»¶ç­‰æ˜¯å¦å­˜åœ¨é”™è¯¯
  - æ›´å¤šä¿¡æ¯å¯è¿è¡Œ`zola --help`
- æ–‡ä»¶ç»“æ„
  - public ç¼–è¯‘è¾“å‡ºé»˜è®¤ç›®å½•
  - static å­˜æ”¾é™æ€æ–‡ä»¶ï¼Œå¦‚js å›¾ç‰‡ css
  - sass å­˜æ”¾sass/scssæ–‡ä»¶ï¼Œæ¨èä½¿ç”¨scssï¼Œç¼–è¯‘åä¼šæ”¾åˆ°publicæ–‡ä»¶å¤¹ä¸‹
  - themes å­˜æ”¾ä¸»é¢˜ï¼Œä¸»é¢˜å¯åœ¨å®˜ç½‘ä¸‹è½½
- config.toml
  - å…¶ä¸­çš„å˜é‡å¯é€šè¿‡`config.`è°ƒç”¨ï¼Œå®Œæ•´å˜é‡è¡¨å¦‚ä¸‹(ç‰¹é•¿è­¦å‘Š)

```toml
# ç«™ç‚¹urlï¼Œå”¯ä¸€å¿…è¦å˜é‡
base_url = "mywebsite.com"

# ç«™ç‚¹æ ‡é¢˜ä¸æè¿°ï¼Œåœ¨feedä¸­ä½¿ç”¨
title = ""
description = ""

# é»˜è®¤è¯­è¨€ï¼Œç”¨äºæœç´¢æ¡†å»ºç«‹ç´¢å¼•ï¼Œç›®å‰ä¸æ”¯æŒä¸­æ–‡
default_language = "en"

# ç«™ç‚¹æ‰€ç”¨ä¸»é¢˜
theme = ""

# è¾“å‡ºæ–‡ä»¶å¤¹ï¼Œé»˜è®¤æ˜¯public
output_dir = "public"

# æ˜¯å¦å¯ç”¨sassç¼–è¯‘
compile_sass = false

# æ˜¯å¦å‹ç¼©htmlæ–‡ä»¶
minify_html = false

# ç”¨äºæŒ‡å®šè¢«å¿½ç•¥çš„æ–‡ä»¶ç›®å½•
# ä¾‹å¦‚:
#     ignored_content = ["*.{graphml,xlsx}", "temp.*"]
ignored_content = []

# æ˜¯å¦è‡ªåŠ¨ç”Ÿæˆfeed
generate_feed = false

# ç”¨äºfeedçš„æ–‡ä»¶å
feed_filename = "atom.xml"

# æè¦ä¸­çš„æ–‡ç« æ•°ï¼Œé»˜è®¤æœªè®¾ç½®
# feed_limit = 20

# å½“é™æ€æ–‡ä»¶è¾ƒå¤§æ—¶å¯å¯ç”¨ç¡¬é“¾æ¥é¿å…å¤åˆ¶
hard_link_static = false

# ä¸ºç«™ç‚¹å‘ˆç°åˆ†ç±»å’Œé»˜è®¤è¯­è¨€é…ç½®
# ä¾‹å¦‚:
#     taxonomies = [
#       {name = "tags", feed = true}, # each tag will have its own feed
#       {name = "tags"}, # you can have taxonomies with the same name in multiple languages
#       {name = "categories", paginate_by = 5},  # 5 items per page for a term
#       {name = "authors"}, # Basic definition: no feed or pagination
#     ]
#
taxonomies = []

# æ˜¯å¦ç”±é»˜è®¤è¯­è¨€æ„é€ ç´¢å¼•
build_search_index = false

[markdown]
# markdownè¯­æ³•é«˜äº®
highlight_code = false

# ç”¨äºæœç´¢é™„åŠ  `.sublime-syntax` æ–‡ä»¶çš„ç›®å½•åˆ—è¡¨
extra_syntaxes = []

# è¯­æ³•é«˜äº®ä¸»é¢˜
highlight_theme = "base16-ocean-dark"

# makedownä¸­emojiè½¬ä¹‰
# ä¾‹å¦‚: :smile: => ğŸ˜„
render_emoji = false

# æ˜¯å¦åœ¨æ–°å»ºæ ‡ç­¾æ‰“å¼€å¤–éƒ¨é€‰é¡¹å¡
# å¦‚æœå¼€å¯ï¼Œå‡ºäºå®‰å…¨åŸå› ï¼Œå°†å§‹ç»ˆè‡ªåŠ¨æ·»åŠ  `rel="noopener"`
external_links_target_blank = false

# æ˜¯å¦ä¸ºæ‰€æœ‰å¤–éƒ¨é“¾æ¥è®¾ç½® rel="nofollow"
external_links_no_follow = false

# æ˜¯å¦ä¸ºæ‰€æœ‰å¤–éƒ¨é“¾æ¥è®¾ç½® rel="noreferrer"
external_links_no_referrer = false

# æ˜¯å¦å¯ç”¨æ™ºèƒ½æ ‡ç‚¹ç¬¦å·ï¼ˆæ›´æ”¹æ’ç‰ˆå½¢å¼çš„å¼•å·ã€ç ´æŠ˜å·ã€åœ†ç‚¹ï¼‰
# æ¯”å¦‚, `...` åˆ° `â€¦`, `"quote"` åˆ° `â€œcurlyâ€`
smart_punctuation = false

# é“¾æ¥æ£€æŸ¥å™¨çš„é…ç½®ã€‚
[link_checker]
# è·³è¿‡ä»¥è¿™äº›å‰ç¼€å¼€å¤´çš„å¤–éƒ¨ URL çš„é“¾æ¥æ£€æŸ¥
skip_prefixes = [
    "http://[2001:db8::]/",
]

# è·³è¿‡ä»¥è¿™äº›å‰ç¼€å¼€å¤´çš„å¤–éƒ¨ URL çš„é”šç‚¹æ£€æŸ¥
skip_anchor_prefixes = [
    "https://caniuse.com/",
]

[slugify]
paths = "on"
taxonomies = "on"
anchors = "on"

[search]
# æ˜¯å¦åœ¨ç´¢å¼•ä¸­åŒ…å«é¡µé¢/éƒ¨åˆ†çš„æ ‡é¢˜
include_title = true
include_description = false
include_path = false
include_content = true

# å°†å†…å®¹æˆªæ–­åˆ°å“ªä¸ªå­—ç¬¦ã€‚å¦‚æœæ‚¨æœ‰å¾ˆå¤šé¡µé¢å¹¶ä¸”ç´¢å¼•ä¼šå˜å¾—å¤ªå¤§
#è€Œæ— æ³•åœ¨ç«™ç‚¹ä¸ŠåŠ è½½ï¼Œåˆ™å¾ˆæœ‰ç”¨ã€‚é»˜è®¤ä¸ºæœªè®¾ç½®ã€‚
# truncate_content_length = 100

[translations]
# ä¾‹å­:
#     default_language = "fr"
#
#     [translations]
#     title = "Un titre"
#

# è¯­è¨€é…ç½®ï¼Œè¯¦è§å®˜ç½‘
[languages]
# [languages.fr]
# title = "Mon blog"
# generate_feed = true
# taxonomies = [
#    {name = "auteurs"},
#    {name = "tags"},
# ]
# build_search_index = false

# åœ¨è¿™æ”¾è‡ªå®šä¹‰å˜é‡
# ä¾‹å¦‚:
#     [extra]
#     author = "Famous author"
#
# author å¯ä½œä¸º {{ config.extra.author }} åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨
#
[extra]
```